<script type="module">
import API from './api.js';

async function loadCourses() {
  const courses = await API.getCourses().then(r => r.data);
  const urlParams = new URLSearchParams(location.search);
  const code = urlParams.get('code');
  if (!code || !courses[code]) return location.href = 'Mainpage.html';
  document.getElementById('courseCode').textContent = code;
  document.getElementById('courseTitle').textContent = courses[code];
}
loadCourses();

function selectTab(tab){
  const area = document.getElementById('contentArea');
  const sections = {
    desc: '<h3>Course Description</h3><p>Details will be populated here.</p>',
    materials: '<h3>Course Materials</h3><p>Links/files will appear here.</p>',
    mock: '<h3>Mock Exercise</h3><p>Practice exercises will be shown here.</p>',
    timetable: '<h3>Time Table</h3><p>Schedule will be listed here.</p>'
  };
  area.innerHTML = sections[tab] || sections.desc;
}
</script>
